{"name": "The locked object must be protected from deletion after metabase deletion (metabase resynchronization must be enabled), and after restarting storage nodes", "status": "passed", "description": "\n        Lock objects should fill metabase on resync_metabase\n        ", "steps": [{"name": "Log nodes with object", "status": "passed", "steps": [{"name": "Get Nodes With Object", "status": "passed", "steps": [{"name": "Head object", "status": "broken", "statusDetails": {"message": "RuntimeError: Command: neofs-cli --config ./TemporaryDir/empty-password.yml object head --rpc-endpoint 's01.neofs.devenv:8080' --wallet '../neofs-dev-env/services/storage/wallet01.json' --cid 'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG' --oid 'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2' --json --ttl 1\nError:\nreturn code: 1\noutput: rpc error: read object header via client: status: code = 2049 message = object not found\n\n", "trace": "  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/home/varg/work/neofs-testcases/robot/resources/lib/python_keywords/neofs_verbs.py\", line 600, in head_object\n    result = cli.object.head(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/neofs_cli/object.py\", line 173, in head\n    return self._execute(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/cli_command.py\", line 69, in _execute\n    return self.shell.exec(self._format_command(command, **params))\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 33, in exec\n    return self._exec_non_interactive(command, options)\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 94, in _exec_non_interactive\n    raise RuntimeError(\n"}, "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "cd48897b-7432-479c-aa7b-97be672e6391-attachment.txt", "type": "text/plain"}], "start": 1696450889486, "stop": 1696450889486}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet01.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s01.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450889209, "stop": 1696450889486}, {"name": "Head object", "status": "passed", "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "42cba3dd-05b8-4c86-a691-0c4e153e23f6-attachment.txt", "type": "text/plain"}], "start": 1696450889724, "stop": 1696450889725}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet02.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s02.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450889491, "stop": 1696450889725}, {"name": "Head object", "status": "passed", "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "f51b4af2-ddb1-466c-9132-5c288cf980ee-attachment.txt", "type": "text/plain"}], "start": 1696450889953, "stop": 1696450889953}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet03.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s03.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450889725, "stop": 1696450889953}, {"name": "Head object", "status": "broken", "statusDetails": {"message": "RuntimeError: Command: neofs-cli --config ./TemporaryDir/empty-password.yml object head --rpc-endpoint 's04.neofs.devenv:8080' --wallet '../neofs-dev-env/services/storage/wallet04.json' --cid 'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG' --oid 'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2' --json --ttl 1\nError:\nreturn code: 1\noutput: rpc error: read object header via client: status: code = 2049 message = object not found\n\n", "trace": "  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/home/varg/work/neofs-testcases/robot/resources/lib/python_keywords/neofs_verbs.py\", line 600, in head_object\n    result = cli.object.head(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/neofs_cli/object.py\", line 173, in head\n    return self._execute(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/cli_command.py\", line 69, in _execute\n    return self.shell.exec(self._format_command(command, **params))\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 33, in exec\n    return self._exec_non_interactive(command, options)\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 94, in _exec_non_interactive\n    raise RuntimeError(\n"}, "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "965de769-6fb6-408f-8deb-2c1044485217-attachment.txt", "type": "text/plain"}], "start": 1696450890184, "stop": 1696450890184}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet04.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s04.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450889953, "stop": 1696450890184}], "parameters": [{"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "nodes", "value": "[s01: s01.neofs.devenv:8080, s02: s02.neofs.devenv:8080, s03: s03.neofs.devenv:8080, s04: s04.neofs.devenv:8080]"}], "start": 1696450889209, "stop": 1696450890184}], "start": 1696450889209, "stop": 1696450890184}, {"name": "Try to delete object AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2 before metabase deletion", "status": "passed", "steps": [{"name": "Delete object 'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'/'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2' from 's01.neofs.devenv:8080'", "status": "broken", "statusDetails": {"message": "RuntimeError: Command: neofs-cli --config /home/varg/work/neofs-testcases/wallet_config.yml object delete --rpc-endpoint 's01.neofs.devenv:8080' --wallet '/home/varg/work/neofs-testcases/TemporaryDir/f45b898b-9d35-435d-aa48-64b3ef9a854c.json' --cid 'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG' --oid 'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'\nError:\nreturn code: 1\noutput: rpc error: remove object via client: status: code = 1024 message = incomplete object PUT by placement: could not close object stream: (*putsvc.remoteTarget) could not put object to [/dns4/s04.neofs.devenv/tcp/8082/tls /dns4/s04.neofs.devenv/tcp/8080]: finish object stream: status: code = 1024 message = incomplete object PUT by placement: could not close object stream: could not delete objects from tombstone locally: status: code = 2050 message = object is locked\n\n", "trace": "  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/home/varg/work/neofs-testcases/robot/resources/lib/python_keywords/neofs_verbs.py\", line 310, in delete_object\n    result = cli.object.delete(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/neofs_cli/object.py\", line 39, in delete\n    return self._execute(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/cli_command.py\", line 69, in _execute\n    return self.shell.exec(self._format_command(command, **params))\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 33, in exec\n    return self._exec_non_interactive(command, options)\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 94, in _exec_non_interactive\n    raise RuntimeError(\n"}, "steps": [{"name": "COMMAND: neofs-cli --config /home/varg/work/neofs-...", "status": "passed", "attachments": [{"name": "Command execution", "source": "f7c49f1b-4e79-4a91-bd56-c7809f16e1ad-attachment.txt", "type": "text/plain"}], "start": 1696450890428, "stop": 1696450890428}], "parameters": [{"name": "wallet", "value": "'/home/varg/work/neofs-testcases/TemporaryDir/f45b898b-9d35-435d-aa48-64b3ef9a854c.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s01.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "wallet_config", "value": "None"}, {"name": "xhdr", "value": "None"}, {"name": "session", "value": "None"}], "start": 1696450890184, "stop": 1696450890428}], "start": 1696450890184, "stop": 1696450890428}, {"name": "Log nodes with object", "status": "passed", "steps": [{"name": "Get Nodes With Object", "status": "passed", "steps": [{"name": "Head object", "status": "broken", "statusDetails": {"message": "RuntimeError: Command: neofs-cli --config ./TemporaryDir/empty-password.yml object head --rpc-endpoint 's01.neofs.devenv:8080' --wallet '../neofs-dev-env/services/storage/wallet01.json' --cid 'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG' --oid 'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2' --json --ttl 1\nError:\nreturn code: 1\noutput: rpc error: read object header via client: status: code = 2049 message = object not found\n\n", "trace": "  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/home/varg/work/neofs-testcases/robot/resources/lib/python_keywords/neofs_verbs.py\", line 600, in head_object\n    result = cli.object.head(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/neofs_cli/object.py\", line 173, in head\n    return self._execute(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/cli_command.py\", line 69, in _execute\n    return self.shell.exec(self._format_command(command, **params))\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 33, in exec\n    return self._exec_non_interactive(command, options)\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 94, in _exec_non_interactive\n    raise RuntimeError(\n"}, "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "149a8dcc-503b-448c-9b65-7baee668f0b6-attachment.txt", "type": "text/plain"}], "start": 1696450890655, "stop": 1696450890655}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet01.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s01.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450890429, "stop": 1696450890655}, {"name": "Head object", "status": "passed", "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "74d35081-b4fc-4e16-b1f0-35c8ed6f9df5-attachment.txt", "type": "text/plain"}], "start": 1696450890890, "stop": 1696450890891}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet02.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s02.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450890655, "stop": 1696450890891}, {"name": "Head object", "status": "passed", "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "37d216f6-cf68-4788-94ef-017626ea7042-attachment.txt", "type": "text/plain"}], "start": 1696450891121, "stop": 1696450891122}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet03.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s03.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450890891, "stop": 1696450891122}, {"name": "Head object", "status": "broken", "statusDetails": {"message": "RuntimeError: Command: neofs-cli --config ./TemporaryDir/empty-password.yml object head --rpc-endpoint 's04.neofs.devenv:8080' --wallet '../neofs-dev-env/services/storage/wallet04.json' --cid 'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG' --oid 'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2' --json --ttl 1\nError:\nreturn code: 1\noutput: rpc error: read object header via client: status: code = 2049 message = object not found\n\n", "trace": "  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/home/varg/work/neofs-testcases/robot/resources/lib/python_keywords/neofs_verbs.py\", line 600, in head_object\n    result = cli.object.head(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/neofs_cli/object.py\", line 173, in head\n    return self._execute(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/cli_command.py\", line 69, in _execute\n    return self.shell.exec(self._format_command(command, **params))\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 33, in exec\n    return self._exec_non_interactive(command, options)\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 94, in _exec_non_interactive\n    raise RuntimeError(\n"}, "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "560f8239-af51-4798-8385-f231f50677f0-attachment.txt", "type": "text/plain"}], "start": 1696450891352, "stop": 1696450891352}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet04.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s04.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450891122, "stop": 1696450891352}], "parameters": [{"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "nodes", "value": "[s01: s01.neofs.devenv:8080, s02: s02.neofs.devenv:8080, s03: s03.neofs.devenv:8080, s04: s04.neofs.devenv:8080]"}], "start": 1696450890428, "stop": 1696450891352}], "start": 1696450890428, "stop": 1696450891352}, {"name": "Delete metabase files from storage nodes", "status": "passed", "steps": [{"name": "Delete metadata from host for node s01: s01.neofs.devenv:8080", "status": "passed", "parameters": [{"name": "node", "value": "s01: s01.neofs.devenv:8080"}], "start": 1696450891352, "stop": 1696450892540}, {"name": "Delete metadata from host for node s02: s02.neofs.devenv:8080", "status": "passed", "parameters": [{"name": "node", "value": "s02: s02.neofs.devenv:8080"}], "start": 1696450892541, "stop": 1696450893783}, {"name": "Delete metadata from host for node s03: s03.neofs.devenv:8080", "status": "passed", "parameters": [{"name": "node", "value": "s03: s03.neofs.devenv:8080"}], "start": 1696450893783, "stop": 1696450894949}, {"name": "Delete metadata from host for node s04: s04.neofs.devenv:8080", "status": "passed", "parameters": [{"name": "node", "value": "s04: s04.neofs.devenv:8080"}], "start": 1696450894949, "stop": 1696450896122}], "start": 1696450891352, "stop": 1696450896122}, {"name": "Start nodes after metabase deletion", "status": "passed", "steps": [{"name": "Start storage node", "status": "passed", "parameters": [{"name": "nodes", "value": "[s01: s01.neofs.devenv:8080, s02: s02.neofs.devenv:8080, s03: s03.neofs.devenv:8080, s04: s04.neofs.devenv:8080]"}], "start": 1696450896123, "stop": 1696450897566}, {"name": "Wait for storage nodes returned to cluster", "status": "passed", "steps": [{"name": "Run health check for all storage nodes", "status": "passed", "steps": [{"name": "Healthcheck for storage node s01: s01.neofs.devenv:8080", "status": "passed", "steps": [{"name": "COMMAND: echo 'password: \"\"' > /tmp/s01-config.yaml", "status": "passed", "attachments": [{"name": "Command execution", "source": "9c211180-14f8-4ff7-9394-d3aaa25307ad-attachment.txt", "type": "text/plain"}], "start": 1696450897567, "stop": 1696450897567}, {"name": "COMMAND: neofs-cli control healthcheck --endpoint...", "status": "passed", "attachments": [{"name": "Command execution", "source": "82230a03-a41b-4fa9-b4e6-7566e89c5ac9-attachment.txt", "type": "text/plain"}], "start": 1696450897806, "stop": 1696450897807}], "parameters": [{"name": "node", "value": "s01: s01.neofs.devenv:8080"}], "start": 1696450897566, "stop": 1696450897807}, {"name": "Healthcheck for storage node s02: s02.neofs.devenv:8080", "status": "passed", "steps": [{"name": "COMMAND: echo 'password: \"\"' > /tmp/s02-config.yaml", "status": "passed", "attachments": [{"name": "Command execution", "source": "0cf02359-2aee-4110-830a-85135dd72771-attachment.txt", "type": "text/plain"}], "start": 1696450897808, "stop": 1696450897808}, {"name": "COMMAND: neofs-cli control healthcheck --endpoint...", "status": "passed", "attachments": [{"name": "Command execution", "source": "81199b60-2849-4b61-a500-1a2e139547a4-attachment.txt", "type": "text/plain"}], "start": 1696450898150, "stop": 1696450898150}], "parameters": [{"name": "node", "value": "s02: s02.neofs.devenv:8080"}], "start": 1696450897807, "stop": 1696450898150}, {"name": "Healthcheck for storage node s03: s03.neofs.devenv:8080", "status": "passed", "steps": [{"name": "COMMAND: echo 'password: \"\"' > /tmp/s03-config.yaml", "status": "passed", "attachments": [{"name": "Command execution", "source": "9efdccd5-1d13-47b0-bf6b-ec371c93c172-attachment.txt", "type": "text/plain"}], "start": 1696450898151, "stop": 1696450898151}, {"name": "COMMAND: neofs-cli control healthcheck --endpoint...", "status": "passed", "attachments": [{"name": "Command execution", "source": "4cc09adf-e222-4f19-8a6f-b16f4e22adae-attachment.txt", "type": "text/plain"}], "start": 1696450898526, "stop": 1696450898526}], "parameters": [{"name": "node", "value": "s03: s03.neofs.devenv:8080"}], "start": 1696450898150, "stop": 1696450898526}, {"name": "Healthcheck for storage node s04: s04.neofs.devenv:8080", "status": "passed", "steps": [{"name": "COMMAND: echo 'password: \"\"' > /tmp/s04-config.yaml", "status": "passed", "attachments": [{"name": "Command execution", "source": "2c6dc483-3e15-4791-8a1b-f492bd988866-attachment.txt", "type": "text/plain"}], "start": 1696450898527, "stop": 1696450898527}, {"name": "COMMAND: neofs-cli control healthcheck --endpoint...", "status": "passed", "attachments": [{"name": "Command execution", "source": "26444331-9753-407e-b53b-23c5b3a83566-attachment.txt", "type": "text/plain"}], "start": 1696450898770, "stop": 1696450898770}], "parameters": [{"name": "node", "value": "s04: s04.neofs.devenv:8080"}], "start": 1696450898526, "stop": 1696450898770}], "start": 1696450897566, "stop": 1696450898770}], "parameters": [{"name": "cluster", "value": "<cluster.Cluster object at 0x7fe8bc748dc0>"}], "start": 1696450897566, "stop": 1696450898770}], "start": 1696450896122, "stop": 1696450898770}, {"name": "Log nodes with object", "status": "passed", "steps": [{"name": "Get Nodes With Object", "status": "passed", "steps": [{"name": "Head object", "status": "broken", "statusDetails": {"message": "RuntimeError: Command: neofs-cli --config ./TemporaryDir/empty-password.yml object head --rpc-endpoint 's01.neofs.devenv:8080' --wallet '../neofs-dev-env/services/storage/wallet01.json' --cid 'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG' --oid 'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2' --json --ttl 1\nError:\nreturn code: 1\noutput: rpc error: read object header via client: status: code = 2049 message = object not found\n\n", "trace": "  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/home/varg/work/neofs-testcases/robot/resources/lib/python_keywords/neofs_verbs.py\", line 600, in head_object\n    result = cli.object.head(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/neofs_cli/object.py\", line 173, in head\n    return self._execute(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/cli_command.py\", line 69, in _execute\n    return self.shell.exec(self._format_command(command, **params))\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 33, in exec\n    return self._exec_non_interactive(command, options)\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 94, in _exec_non_interactive\n    raise RuntimeError(\n"}, "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "43626e0f-f0c6-4cef-8fb2-159c27485cef-attachment.txt", "type": "text/plain"}], "start": 1696450898999, "stop": 1696450899000}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet01.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s01.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450898770, "stop": 1696450899000}, {"name": "Head object", "status": "passed", "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "047db042-868c-493e-80cb-24bf5cf6c5fb-attachment.txt", "type": "text/plain"}], "start": 1696450899231, "stop": 1696450899231}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet02.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s02.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450899000, "stop": 1696450899231}, {"name": "Head object", "status": "passed", "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "b4e21d45-1c67-4426-993f-5e915d4ec295-attachment.txt", "type": "text/plain"}], "start": 1696450899462, "stop": 1696450899462}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet03.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s03.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450899231, "stop": 1696450899462}, {"name": "Head object", "status": "broken", "statusDetails": {"message": "RuntimeError: Command: neofs-cli --config ./TemporaryDir/empty-password.yml object head --rpc-endpoint 's04.neofs.devenv:8080' --wallet '../neofs-dev-env/services/storage/wallet04.json' --cid 'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG' --oid 'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2' --json --ttl 1\nError:\nreturn code: 1\noutput: rpc error: read object header via client: status: code = 2049 message = object not found\n\n", "trace": "  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/home/varg/work/neofs-testcases/robot/resources/lib/python_keywords/neofs_verbs.py\", line 600, in head_object\n    result = cli.object.head(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/neofs_cli/object.py\", line 173, in head\n    return self._execute(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/cli_command.py\", line 69, in _execute\n    return self.shell.exec(self._format_command(command, **params))\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 33, in exec\n    return self._exec_non_interactive(command, options)\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 94, in _exec_non_interactive\n    raise RuntimeError(\n"}, "steps": [{"name": "COMMAND: neofs-cli --config ./TemporaryDir/empty-password.yml...", "status": "passed", "attachments": [{"name": "Command execution", "source": "949b914d-cc16-45db-874c-7a0f5b8ce31e-attachment.txt", "type": "text/plain"}], "start": 1696450899689, "stop": 1696450899689}], "parameters": [{"name": "wallet", "value": "'../neofs-dev-env/services/storage/wallet04.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s04.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "xhdr", "value": "None"}, {"name": "json_output", "value": "True"}, {"name": "is_raw", "value": "False"}, {"name": "is_direct", "value": "True"}, {"name": "wallet_config", "value": "'./TemporaryDir/empty-password.yml'"}, {"name": "session", "value": "None"}], "start": 1696450899462, "stop": 1696450899689}], "parameters": [{"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "nodes", "value": "[s01: s01.neofs.devenv:8080, s02: s02.neofs.devenv:8080, s03: s03.neofs.devenv:8080, s04: s04.neofs.devenv:8080]"}], "start": 1696450898770, "stop": 1696450899689}], "start": 1696450898770, "stop": 1696450899689}, {"name": "Try to delete object AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2 after metabase deletion", "status": "passed", "steps": [{"name": "Delete object 'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'/'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2' from 's01.neofs.devenv:8080'", "status": "broken", "statusDetails": {"message": "RuntimeError: Command: neofs-cli --config /home/varg/work/neofs-testcases/wallet_config.yml object delete --rpc-endpoint 's01.neofs.devenv:8080' --wallet '/home/varg/work/neofs-testcases/TemporaryDir/f45b898b-9d35-435d-aa48-64b3ef9a854c.json' --cid 'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG' --oid 'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'\nError:\nreturn code: 1\noutput: rpc error: remove object via client: status: code = 1024 message = incomplete object PUT by placement: could not close object stream: (*putsvc.remoteTarget) could not put object to [/dns4/s04.neofs.devenv/tcp/8082/tls /dns4/s04.neofs.devenv/tcp/8080]: finish object stream: status: code = 1024 message = incomplete object PUT by placement: could not close object stream: could not delete objects from tombstone locally: status: code = 2050 message = object is locked\n\n", "trace": "  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/home/varg/work/neofs-testcases/robot/resources/lib/python_keywords/neofs_verbs.py\", line 310, in delete_object\n    result = cli.object.delete(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/neofs_cli/object.py\", line 39, in delete\n    return self._execute(\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/cli/cli_command.py\", line 69, in _execute\n    return self.shell.exec(self._format_command(command, **params))\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 33, in exec\n    return self._exec_non_interactive(command, options)\n  File \"/home/varg/work/neofs-testcases/venv.local-pytest/lib/python3.10/site-packages/neofs_testlib/shell/local_shell.py\", line 94, in _exec_non_interactive\n    raise RuntimeError(\n"}, "steps": [{"name": "COMMAND: neofs-cli --config /home/varg/work/neofs-...", "status": "passed", "attachments": [{"name": "Command execution", "source": "210922d1-fe23-4e54-85a0-c449ac8aa210-attachment.txt", "type": "text/plain"}], "start": 1696450899949, "stop": 1696450899949}], "parameters": [{"name": "wallet", "value": "'/home/varg/work/neofs-testcases/TemporaryDir/f45b898b-9d35-435d-aa48-64b3ef9a854c.json'"}, {"name": "cid", "value": "'CVGzuZ6su8Zp7i54pL48t2Ta8HqEqDxCe5wowoDvpscG'"}, {"name": "oid", "value": "'AWGDcWbrpFyzDiwM4EatWH1AudcAnNxNum5JyP1Fe1F2'"}, {"name": "shell", "value": "<neofs_testlib.shell.local_shell.LocalShell object at 0x7fe8bc74b3a0>"}, {"name": "endpoint", "value": "'s01.neofs.devenv:8080'"}, {"name": "bearer", "value": "''"}, {"name": "wallet_config", "value": "None"}, {"name": "xhdr", "value": "None"}, {"name": "session", "value": "None"}], "start": 1696450899690, "stop": 1696450899949}], "start": 1696450899689, "stop": 1696450899949}], "attachments": [{"name": "stderr", "source": "38d6934d-aa26-417e-a395-ed3fd182618f-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "new_locked_storage_object", "value": "1000"}], "start": 1696450889209, "stop": 1696450899949, "uuid": "d5346ba8-a9ee-4b8f-ad44-ac0ffdae659d", "historyId": "d99fdd706e25ad8e73c990e7f0e2b0d5", "testCaseId": "18afec0560adf23a49b4c304a71d25ee", "fullName": "testsuites.object.test_object_lock.TestObjectLockWithGrpc#test_the_object_lock_should_be_kept_after_metabase_deletion", "labels": [{"name": "tag", "value": "delete_metadata"}, {"name": "tag", "value": "grpc_object_lock"}, {"name": "parentSuite", "value": "testsuites.object"}, {"name": "suite", "value": "test_object_lock"}, {"name": "subSuite", "value": "TestObjectLockWithGrpc"}, {"name": "host", "value": "burzum"}, {"name": "thread", "value": "114755-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testsuites.object.test_object_lock"}]}